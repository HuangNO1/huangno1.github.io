<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統 - Rem Blog</title><meta name="Description" content=""><meta property="og:title" content="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" />
<meta property="og:description" content="前言 我分享一下如何安裝 Arch Linux 的方法，因為我之前裝 Arch Linux 時踩了很多坑，加上我是小白，所以遇到的問題很多，我會在這篇文章中教導各位如何安裝 Arch Linux 在各位的電腦，優雅地使用 Arch Linux 發行版，這篇文章是面向小白向的教學文，這篇只會提及如何安裝，至於初始化與其餘部份會另外寫篇文章。
由於我的電腦型號是聯想 y7000，所以遇到的坑真的很多，我會按特殊情況講解，雖然 Installation guide - ArchWiki 的安裝指南已經很詳細了，但對於剛接觸的新手根本是火星文 :(
因為我這是專給小白寫的文章，所以寫了很多細節和注意點，如果你是高手，覺得我寫了很多廢話，那請你忍耐吧，也可以選擇不看我的文章，直接去看 ArchWiki。
安裝前準備 1. 至 清華大學 Archlinux 軟件鏡像站下載最新版的 archlinux*.ios 鏡像 清華大學鏡像站1.png
&#34; 清華大學鏡像站 
2. 下載 Rufus - 用來匯入 Archlinux 鏡像至 USB Refus 官網2.png
&#34; Refus 官網 
3. 準備一個至少 8G 的 USB 使用 Rufus 將 Arch 鏡像匯入在目標 USB 裝置。
 註：在此只需修改您的目標 USB 和鏡像源即可，按下開始鍵進行匯入。
 關於燒錄方式  2020/01/21 補充燒錄方式。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huangno1.github.io/archlinux_install_part1_basic/" /><meta property="og:image" content="https://huangno1.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-28T15:24:28+08:00" />
<meta property="article:modified_time" content="2020-07-29T15:58:26+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://huangno1.github.io/logo.png"/>

<meta name="twitter:title" content="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統"/>
<meta name="twitter:description" content="前言 我分享一下如何安裝 Arch Linux 的方法，因為我之前裝 Arch Linux 時踩了很多坑，加上我是小白，所以遇到的問題很多，我會在這篇文章中教導各位如何安裝 Arch Linux 在各位的電腦，優雅地使用 Arch Linux 發行版，這篇文章是面向小白向的教學文，這篇只會提及如何安裝，至於初始化與其餘部份會另外寫篇文章。
由於我的電腦型號是聯想 y7000，所以遇到的坑真的很多，我會按特殊情況講解，雖然 Installation guide - ArchWiki 的安裝指南已經很詳細了，但對於剛接觸的新手根本是火星文 :(
因為我這是專給小白寫的文章，所以寫了很多細節和注意點，如果你是高手，覺得我寫了很多廢話，那請你忍耐吧，也可以選擇不看我的文章，直接去看 ArchWiki。
安裝前準備 1. 至 清華大學 Archlinux 軟件鏡像站下載最新版的 archlinux*.ios 鏡像 清華大學鏡像站1.png
&#34; 清華大學鏡像站 
2. 下載 Rufus - 用來匯入 Archlinux 鏡像至 USB Refus 官網2.png
&#34; Refus 官網 
3. 準備一個至少 8G 的 USB 使用 Rufus 將 Arch 鏡像匯入在目標 USB 裝置。
 註：在此只需修改您的目標 USB 和鏡像源即可，按下開始鍵進行匯入。
 關於燒錄方式  2020/01/21 補充燒錄方式。"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://huangno1.github.io/archlinux_install_part1_basic/" /><link rel="prev" href="https://huangno1.github.io/archlinux_vscode_build_gdb_gcc/" /><link rel="next" href="https://huangno1.github.io/cpp_solving_decimal_programming/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Archlinux 安裝 Part 1 - Windows \u0026 Archlinux 雙系統",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/huangno1.github.io\/archlinux_install_part1_basic\/"
        },"genre": "posts","keywords": "ArchLinux, Linux","wordcount":  1867 ,
        "url": "https:\/\/huangno1.github.io\/archlinux_install_part1_basic\/","datePublished": "2019-09-28T15:24:28+08:00","dateModified": "2020-07-29T15:58:26+08:00","publisher": {
            "@type": "Organization",
            "name": "Rem Blog","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/huangno1.github.io\/images\/avatar.png",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "Huang Po-Hsun"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Rem Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp"
        data-srcset="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp, https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp 1.5x, https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp 2x"
        data-sizes="auto"
        alt="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp"
        title="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp" />Rem Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/HuangNO1" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章或標題..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切換主題">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Rem Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp"
        data-srcset="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp, https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp 1.5x, https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp 2x"
        data-sizes="auto"
        alt="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp"
        title="https://www.gravatar.com/avatar/1b2e937d26fa273fd402e042f2139949?s=240&amp;d=mp" />Rem Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章或標題..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/HuangNO1" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切換主題">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目錄</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://huangno1.github.io" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Huang Po-Hsun</a></span>&nbsp;<span class="post-category">收錄於 <a href="/categories/archlinux/"><i class="far fa-folder fa-fw"></i>ArchLinux</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-09-28">2019-09-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;約 1867 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;預計閱讀 9 分鐘&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/featuredImage/compressed/archlinux_install_part1_basic.png"
        data-srcset="/featuredImage/compressed/archlinux_install_part1_basic.png, /featuredImage/compressed/archlinux_install_part1_basic.png 1.5x, /featuredImage/compressed/archlinux_install_part1_basic.png 2x"
        data-sizes="auto"
        alt="/featuredImage/compressed/archlinux_install_part1_basic.png"
        title="/featuredImage/compressed/archlinux_install_part1_basic.png" /></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目錄</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#前言">前言</a></li>
    <li><a href="#安裝前準備">安裝前準備</a>
      <ul>
        <li><a href="#1-至-清華大學-archlinux-軟件鏡像站httpsmirrorstunatsinghuaeducnarchlinuxisolatest下載最新版的-archlinuxios-鏡像">1. 至 <a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/latest/">清華大學 Archlinux 軟件鏡像站</a>下載最新版的 archlinux*.ios 鏡像</a></li>
        <li><a href="#2-下載-rufushttpsrufusie---用來匯入-archlinux-鏡像至-usb">2. 下載 <a href="https://rufus.ie/">Rufus</a> - 用來匯入 Archlinux 鏡像至 USB</a></li>
        <li><a href="#3-準備一個至少-8g-的-usb">3. 準備一個至少 8G 的 USB</a>
          <ul>
            <li><a href="#關於燒錄方式">關於燒錄方式</a></li>
          </ul>
        </li>
        <li><a href="#4-分割磁區">4. 分割磁區</a></li>
        <li><a href="#5-usb-使用-uefi-方式開機">5. USB 使用 UEFI 方式開機</a></li>
        <li><a href="#6-確認連到網路">6. 確認連到網路</a></li>
        <li><a href="#7-更新系統時間">7. 更新系統時間</a></li>
        <li><a href="#8-分割磁區">8. 分割磁區</a></li>
        <li><a href="#9-格式化磁區">9. 格式化磁區</a></li>
        <li><a href="#10-掛載分區">10. 掛載分區</a></li>
      </ul>
    </li>
    <li><a href="#安裝">安裝</a>
      <ul>
        <li><a href="#1-選擇鏡像">1. 選擇鏡像</a></li>
        <li><a href="#2-安裝基本系統">2. 安裝基本系統</a></li>
      </ul>
    </li>
    <li><a href="#配置系統">配置系統</a>
      <ul>
        <li><a href="#1-fastab">1. Fastab</a></li>
        <li><a href="#2-進入-chroot">2. 進入 Chroot</a></li>
        <li><a href="#3-時區">3. 時區</a></li>
        <li><a href="#4-添加本地語系">4. 添加本地語系</a></li>
        <li><a href="#5-主機名稱與網路">5. 主機名稱與網路</a></li>
        <li><a href="#6-initramfs">6. Initramfs</a></li>
        <li><a href="#7-設定-root-超級使用者-密碼">7. 設定 Root (超級使用者) 密碼</a></li>
        <li><a href="#8-安裝引導程序">8. 安裝引導程序</a></li>
      </ul>
    </li>
    <li><a href="#重要補充">重要補充</a>
      <ul>
        <li><a href="#mbr-的-grub-引導指令">MBR 的 GRUB 引導指令</a></li>
        <li><a href="#雙-arch-系統">雙 Arch 系統</a></li>
        <li><a href="#連網">連網</a></li>
        <li><a href="#不裝雙系統只有-linux">不裝雙系統，只有 Linux</a></li>
      </ul>
    </li>
    <li><a href="#文件系統-xfs-與-btrfs">文件系統 XFS 與 Btrfs</a>
      <ul>
        <li><a href="#xfs">XFS</a></li>
        <li><a href="#btrfs">Btrfs</a></li>
      </ul>
    </li>
    <li><a href="#重啟電腦">重啟電腦</a></li>
    <li><a href="#安裝後工作">安裝後工作</a></li>
    <li><a href="#reference">Reference</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><!--2019/09/28 edited by Huang Po-Hsun-->
<!--![0.png](https://i.loli.net/2019/09/30/6qMYyrcQNoIm2aR.png)-->
<h2 id="前言">前言</h2>
<p>我分享一下如何安裝 Arch Linux 的方法，因為我之前裝 Arch Linux 時踩了很多坑，加上我是小白，所以遇到的問題很多，我會在這篇文章中教導各位如何安裝 Arch Linux 在各位的電腦，優雅地使用 Arch Linux 發行版，這篇文章是面向小白向的教學文，這篇只會提及如何安裝，至於初始化與其餘部份會另外寫篇文章。</p>
<p>由於我的電腦型號是<strong>聯想 y7000</strong>，所以遇到的坑真的很多，我會按特殊情況講解，雖然 <a href="https://wiki.archlinux.org/index.php/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Installation guide - ArchWiki</a> 的安裝指南已經很詳細了，但對於剛接觸的新手根本是火星文 :(</p>
<p>因為我這是專給小白寫的文章，所以寫了很多細節和注意點，如果你是高手，覺得我寫了很多廢話，那請你忍耐吧，也可以選擇不看我的文章，直接去看 ArchWiki。</p>
<h2 id="安裝前準備">安裝前準備</h2>
<h3 id="1-至-清華大學-archlinux-軟件鏡像站httpsmirrorstunatsinghuaeducnarchlinuxisolatest下載最新版的-archlinuxios-鏡像">1. 至 <a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/latest/" target="_blank" rel="noopener noreffer">清華大學 Archlinux 軟件鏡像站</a>下載最新版的 archlinux*.ios 鏡像</h3>
<!-- ![1.png](https://i.loli.net/2019/09/29/28CjvXVRUZJzqQ3.png "清華大學鏡像站") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLAD9E.png" title="1.png" data-thumbnail="https://imgpoi.com/i/KLAD9E.png" data-sub-html="<h2>清華大學鏡像站</h2><p>1.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLAD9E.png"
            data-srcset="https://imgpoi.com/i/KLAD9E.png, https://imgpoi.com/i/KLAD9E.png 1.5x, https://imgpoi.com/i/KLAD9E.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLAD9E.png" />
    </a><figcaption class="image-caption">清華大學鏡像站</figcaption>
    </figure></p>
<h3 id="2-下載-rufushttpsrufusie---用來匯入-archlinux-鏡像至-usb">2. 下載 <a href="https://rufus.ie/" target="_blank" rel="noopener noreffer">Rufus</a> - 用來匯入 Archlinux 鏡像至 USB</h3>
<!-- ![2.png](https://i.loli.net/2019/09/29/CwW9MLR5IZkSru4.png "Refus 官網") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLA0QB.png" title="2.png" data-thumbnail="https://imgpoi.com/i/KLA0QB.png" data-sub-html="<h2>Refus 官網</h2><p>2.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLA0QB.png"
            data-srcset="https://imgpoi.com/i/KLA0QB.png, https://imgpoi.com/i/KLA0QB.png 1.5x, https://imgpoi.com/i/KLA0QB.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLA0QB.png" />
    </a><figcaption class="image-caption">Refus 官網</figcaption>
    </figure></p>
<h3 id="3-準備一個至少-8g-的-usb">3. 準備一個至少 8G 的 USB</h3>
<p>使用 Rufus 將 Arch 鏡像匯入在目標 USB 裝置。</p>
<blockquote>
<p>註：在此只需修改您的目標 USB 和鏡像源即可，按下開始鍵進行匯入。</p>
</blockquote>
<h4 id="關於燒錄方式">關於燒錄方式</h4>
<blockquote>
<p>2020/01/21 補充燒錄方式。</p>
</blockquote>
<p>我幫家裡已經十年的 HP CQ40 重裝系統，因為過於老舊，電腦沒有 UEFI，只有 Legacy，所以開機無法以 UEFI 開機，這時關於燒錄鏡像的方式就需要做調整。</p>
<p>如果你的 Bios 有 UEFI 就使用 <strong>GPT 燒錄</strong>，如果是像我上面一樣，電腦過於老舊，當時的年代只有 Lengcy，這時你需要使用已經淘汰的 <strong>MBR 燒錄鏡像</strong>，然後建議使用 dd 燒錄。至於怎麼看自己電腦有沒有 UEFI，只需要查看自己的 Bios 是否有開機模式選項並且有 UEFI 選項。</p>
<p>現在大部份的電腦都有 UEFI，所以正常選擇 <strong>GPT</strong> 就好。</p>
<p>e.g.</p>
<p>MBR 燒錄。</p>
<!-- ![3.png](https://i.loli.net/2019/09/29/jR5FbkuUCPIMvXh.png "MBR 燒錄") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLAC1G.png" title="3.png" data-thumbnail="https://imgpoi.com/i/KLAC1G.png" data-sub-html="<h2>MBR 燒錄</h2><p>3.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLAC1G.png"
            data-srcset="https://imgpoi.com/i/KLAC1G.png, https://imgpoi.com/i/KLAC1G.png 1.5x, https://imgpoi.com/i/KLAC1G.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLAC1G.png" />
    </a><figcaption class="image-caption">MBR 燒錄</figcaption>
    </figure></p>
<h3 id="4-分割磁區">4. 分割磁區</h3>
<p><strong>我們假設在固態硬碟割出 40GB 空間（40GB <code>root</code>），在虛擬硬碟割出102GB 空間（2GB <code>swap</code>, 100GB <code>home</code>）</strong>，此時別格式化割出來的磁區，讓它們保持為<strong>未配置狀態</strong>。</p>
<p>在 Windows 工作列的 <code>win</code> 圖標上點擊滑鼠右鍵選擇<strong>磁區管理</strong>，將自己的磁區切割，現在大部份的電腦是 110GB 左右的固態 SSD 和 1TB 左右的虛擬硬碟，當然少部份例外，我建議固態硬碟割出至少 40GB 給 <code>/root</code> 根目錄（類似 Windows的 C槽），接著可以在虛擬硬碟割出 100GB 以上給 <code>/home</code> 家目錄，也有特殊情況，像我的室友他電腦只有固態 SSD 所以只能割固態硬碟給 <code>/home</code>，我室友我幫他割了 30GB 給 <code>/root</code>，40GB 給 <code>/home</code>，2GB 給 <code>swap</code>。</p>
<blockquote>
<p>註：我強烈不建議將 Linux 灌在 <strong>USB</strong> 上或是像<strong>移動固態 SSD</strong> 等移動裝置上，首先在啟動上很不方便，每次都要進入 BIOS 調整開機順序，又容易電腦卡頓，電腦容易發燙，加上電源的耗電速度快等因素，其實我就在我室友的移動固態 SSD 上嘗試過，甚至安裝失敗，連圖形界面都進不去。</p>
</blockquote>
<p>磁區管理示意圖：</p>
<!-- ![4.png](https://i.loli.net/2019/09/29/leD4jbfzrPEIig6.jpg "Windows 磁區管理") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLAQH9.jpg" title="4.png" data-thumbnail="https://imgpoi.com/i/KLAQH9.jpg" data-sub-html="<h2>Windows 磁區管理</h2><p>4.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLAQH9.jpg"
            data-srcset="https://imgpoi.com/i/KLAQH9.jpg, https://imgpoi.com/i/KLAQH9.jpg 1.5x, https://imgpoi.com/i/KLAQH9.jpg 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLAQH9.jpg" />
    </a><figcaption class="image-caption">Windows 磁區管理</figcaption>
    </figure></p>
<p>在磁區上點擊滑鼠右鍵選擇<strong>壓縮磁碟</strong>，應你的需求壓縮適當大小的磁區。</p>
<h3 id="5-usb-使用-uefi-方式開機">5. USB 使用 UEFI 方式開機</h3>
<p><strong>進入 BIOS，調整 Boot 開機順序，改為你的 USB 優先開機，主機與 USB 開機模式為 UEFI</strong></p>
<p>每台電腦進入 BIOS 的方法都不同，像我的電腦是聯想 y7000，所以我在開機時一直按住 <code>Fn + F2</code> ，就能進入 BIOS 調整開機順序，因為幫室友們裝了 Arch，所以 ThinkPad 是 <code>F1</code>，華碩是按 <code>Esc</code> 或 <code>F2</code>，小米是 <code>F2</code>，我記得小米筆電進入 BIOS 還需要輸入 Password，有點麻煩就是了。當然還是勸大家上網搜一下自己電腦型號的進入 BIOS 快捷建。不好意思，我因為 linux 無法掛載我的移動 SSD，具體是因為我之前想將 arch 灌到 SSD 上，後來覺得使用上麻煩所以放棄了， 所以我先將該磁區刪除再新增，</p>
<p>成功進入 USB 後選擇第一個選項 <code>Boot Arch Linux (X86_64)</code> 按 <code>Enter</code> 進入，當你看到 <code>root #</code> 就代表你已經進入 USB 裡的 Arch 安裝鏡像。</p>
<blockquote>
<p>註：切記要是 UEFI 開機，因為我們最後要在 BIOS 安裝引導程序，來引導我們開機選擇進入的 OS。如果沒有使用 UEFI 開機的話會裝不上引導程序 <code>grub</code>。</p>
</blockquote>
<blockquote>
<p>當然如果你的電腦沒辦法使用 UEFI，並且前面的燒錄方式使用的是 <strong>MBR</strong>，在後面分割磁區時就需要用不同的方式，然後 GRUB 引導也是不同的指令。</p>
</blockquote>
<!-- ![5.png](https://i.loli.net/2019/09/30/q4zMECx7tpkNLK1.png "Arch Linux Live CD") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEZV5.png" title="5.png" data-thumbnail="https://imgpoi.com/i/KLEZV5.png" data-sub-html="<h2>Arch Linux Live CD</h2><p>5.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEZV5.png"
            data-srcset="https://imgpoi.com/i/KLEZV5.png, https://imgpoi.com/i/KLEZV5.png 1.5x, https://imgpoi.com/i/KLEZV5.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEZV5.png" />
    </a><figcaption class="image-caption">Arch Linux Live CD</figcaption>
    </figure></p>
<h3 id="6-確認連到網路">6. 確認連到網路</h3>
<p>在安裝過程我們需要用到網路，我們需要確認我們連的到網路，輸入以下指令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ping baidu.com <span class="c1"># 確認是否可連上百度</span>
</code></pre></td></tr></table>
</div>
</div><p>如果你的結果與下圖相同則代表你已連上了網路，按下 <code>Ctrl + C</code> 中止命令，</p>
<!-- ![6.png](https://i.loli.net/2019/09/29/2XAfjoPpSaJDu4d.png "ping 指令測試連網") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEY8M.png" title="6.png" data-thumbnail="https://imgpoi.com/i/KLEY8M.png" data-sub-html="<h2>ping 指令測試連網</h2><p>6.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEY8M.png"
            data-srcset="https://imgpoi.com/i/KLEY8M.png, https://imgpoi.com/i/KLEY8M.png 1.5x, https://imgpoi.com/i/KLEY8M.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEY8M.png" />
    </a><figcaption class="image-caption">ping 指令測試連網</figcaption>
    </figure></p>
<p>如果無法從 <code>baidu.com</code> 接收 <code>packets</code>，<strong>掉包率（packets loss）100%</strong>，代表你沒有連上網路，這時我建議插網線連有線網路，不建議連無線網路，因為在無線網路使用上會出些問題，不建議新手使用，我最常用的方法是將使用<strong>數據線</strong>將電腦與手機連結，然後手機開 <strong>USB 共用網路</strong>，手機可以連行動數據或 WiFi 給電腦網路。</p>
<p>1.插上網線</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ip link <span class="c1">#顯示自己的網路接口</span>
</code></pre></td></tr></table>
</div>
</div><!-- ![7.png](https://i.loli.net/2019/09/29/aILSzq6P5vWg8uG.png "顯示網路接口") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEWL2.png" title="7.png" data-thumbnail="https://imgpoi.com/i/KLEWL2.png" data-sub-html="<h2>顯示網路接口</h2><p>7.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEWL2.png"
            data-srcset="https://imgpoi.com/i/KLEWL2.png, https://imgpoi.com/i/KLEWL2.png 1.5x, https://imgpoi.com/i/KLEWL2.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEWL2.png" />
    </a><figcaption class="image-caption">顯示網路接口</figcaption>
    </figure></p>
<p><code>enp7s0</code> 是我的有線接口，<code>wlp0s20f3</code> 是我的無線接口，當然這些接口名稱會隨著電腦不同而不同但大多相似。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ip link <span class="nb">set</span> enp7s0 up <span class="c1"># 將有線接口打開</span>
dhcpcd enp7s0 <span class="c1"># 連接接口</span>
ping baidu.com <span class="c1"># 再測試一次是否連網</span>
</code></pre></td></tr></table>
</div>
</div><p>以上如果沒問題就可跳過用手機共用網路步驟</p>
<p>2.用數據線將手機與電腦連結，並開啟 USB 共用網路</p>
<p>輸入 <code>ip link</code> 後出現了新的有線接口 <code>enp0s20f0u1</code>，此為你的手機網路接口。</p>
<blockquote>
<p>註：通常自己電腦的有線網路接口名稱比手機的網路接口名稱短。</p>
</blockquote>
<!-- ![8.png](https://i.loli.net/2019/09/29/RmvsnrfoKt5caUH.png "手機網路接口") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEA9D.png" title="8.png" data-thumbnail="https://imgpoi.com/i/KLEA9D.png" data-sub-html="<h2>手機網路接口</h2><p>8.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEA9D.png"
            data-srcset="https://imgpoi.com/i/KLEA9D.png, https://imgpoi.com/i/KLEA9D.png 1.5x, https://imgpoi.com/i/KLEA9D.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEA9D.png" />
    </a><figcaption class="image-caption">手機網路接口</figcaption>
    </figure></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ip link <span class="nb">set</span> enp7s0 down <span class="c1"># 關閉自己電腦的有線接口</span>
ip link <span class="nb">set</span> enp0s20f0u1 up <span class="c1"># 開啟手機的有線接口</span>
dhcpcd enp0s20f0u1 <span class="c1"># 連接手機的有線接口</span>
ping baidu.com <span class="c1"># 測試是否連上網路</span>
</code></pre></td></tr></table>
</div>
</div><p>通常到這裡網路是連上的，如果還連不上那可能就要連無線 WiFi 了，我就不多說明了，可以參考 <a href="https://wiki.archlinux.org/index.php/Wireless_network_configuration_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Wireless network configuration (简体中文) - ArchWiki</a> 和 <a href="http://irislr.me/2017/01/07/linux%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9C%89%E7%BA%BF%EF%BC%86%E6%97%A0%E7%BA%BF%E8%BF%9E%E6%8E%A5/" target="_blank" rel="noopener noreffer">某網友的 Blog</a> 和 <a href="https://www.itread01.com/p/149560.html" target="_blank" rel="noopener noreffer">某教程網</a> 有提及，因為之前我幫我朋友安裝 Archlinux 時要連無線 WiFi 時搞了很久，還出了錯誤，最後直接使用手機的共用網路才解決。</p>
<h3 id="7-更新系統時間">7. 更新系統時間</h3>
<p>使用 <code>timedatectl</code> 確保系統時間是準確的，後面我們在<strong>同步數據庫</strong>時需要系統時間與網路時間的同步。</p>
<blockquote>
<p>註：這一步真的很重要，我之前因為忘了這一步驟導致數據庫無法同步，開啟時間同步後還要進入 <code>Chroot</code> 重裝一次系統 <code>pacman -S linux</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">timedatectl set-ntp <span class="nb">true</span> <span class="c1"># 開啟時間同步</span>
timedatectl status <span class="c1"># 檢查服務狀態</span>
</code></pre></td></tr></table>
</div>
</div><!-- ![9.png](https://i.loli.net/2019/09/30/C5vDyeu6cOnIgs4.png "查看系統時間") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLESQV.png" title="9.png" data-thumbnail="https://imgpoi.com/i/KLESQV.png" data-sub-html="<h2>查看系統時間</h2><p>9.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLESQV.png"
            data-srcset="https://imgpoi.com/i/KLESQV.png, https://imgpoi.com/i/KLESQV.png 1.5x, https://imgpoi.com/i/KLESQV.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLESQV.png" />
    </a><figcaption class="image-caption">查看系統時間</figcaption>
    </figure></p>
<p>請確保 <code>NTP service</code> 狀態為 <code>active</code>，且確定自己的系統時間是否正確。</p>
<h3 id="8-分割磁區">8. 分割磁區</h3>
<p><strong>我們使用 <code>cfdisk</code> 來分割磁區</strong></p>
<p>ArchWiki 建議的分區參考</p>
<!-- ![10.png](https://i.loli.net/2019/09/30/dQUhfT6SNIAPq4D.png "ArchWiki 建議的磁區分區") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEU1E.png" title="10.png" data-thumbnail="https://imgpoi.com/i/KLEU1E.png" data-sub-html="<h2>ArchWiki 建議的磁區分區</h2><p>10.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEU1E.png"
            data-srcset="https://imgpoi.com/i/KLEU1E.png, https://imgpoi.com/i/KLEU1E.png 1.5x, https://imgpoi.com/i/KLEU1E.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEU1E.png" />
    </a><figcaption class="image-caption">ArchWiki 建議的磁區分區</figcaption>
    </figure></p>
<p>我們已經在 Windows 分割好了我們的磁區。我們使用的是 <strong>GPT</strong> 的方案。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">lsblk <span class="c1"># 檢查磁區狀態</span>
</code></pre></td></tr></table>
</div>
</div><!-- ![11.png](https://i.loli.net/2019/09/30/NMrOdjfom7FBA54.png "檢查磁區分區情況") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLEPHB.png" title="11.png" data-thumbnail="https://imgpoi.com/i/KLEPHB.png" data-sub-html="<h2>檢查磁區分區情況</h2><p>11.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLEPHB.png"
            data-srcset="https://imgpoi.com/i/KLEPHB.png, https://imgpoi.com/i/KLEPHB.png 1.5x, https://imgpoi.com/i/KLEPHB.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLEPHB.png" />
    </a><figcaption class="image-caption">檢查磁區分區情況</figcaption>
    </figure></p>
<p>以上是我的磁區狀態，因為我是已經裝好了系統，所以會顯示這樣的狀態，但你現在的狀態是不會顯示出你切割出來的磁區，這裡<strong>記得你的磁區大小</strong>以便在這裡辨認出你的磁區哪些是固態硬碟和虛擬硬碟。</p>
<blockquote>
<p>註：有些指南標示 <code>/dev/sdX</code> 的 <code>sdX</code> 意思是你的磁區代號，有些電腦的固態硬碟代號是 <code>sdb</code> 或是 <code>nvme0n1</code>，虛擬硬碟通常代號是 <code>sda</code>，你可以將 <code>sdX</code> 當成一個代稱，因為沒人保證你電腦裡的硬碟的代號為何，像我有個室友他電腦的固態硬碟是 <code>sdb</code>。</p>
<p>在輸入路徑時可以搭配 <code>Tab</code> 鍵快速輸入，輸入開頭先按一次 <code>Tab</code>，如果指令行下出現許多路徑可按兩次 <code>Tab</code> 選取。</p>
</blockquote>
<p><strong>在這裡我們假設你的固態硬碟是 <code>nvme0n1</code> - 割出 40GB 給 <code>root</code>，虛擬硬碟是 <code>sda</code> - 割出 102GB</strong>。輸入以下指令進入管理磁區界面。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">cfdisk /dev/nvme0n1 <span class="c1"># 管理固態硬碟磁區</span>
</code></pre></td></tr></table>
</div>
</div><!-- ![12.png](https://i.loli.net/2019/09/30/Mm78ohqWiusweDQ.png "管理固態硬碟磁區") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLE1VG.png" title="12.png" data-thumbnail="https://imgpoi.com/i/KLE1VG.png" data-sub-html="<h2>管理固態硬碟磁區</h2><p>12.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLE1VG.png"
            data-srcset="https://imgpoi.com/i/KLE1VG.png, https://imgpoi.com/i/KLE1VG.png 1.5x, https://imgpoi.com/i/KLE1VG.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLE1VG.png" />
    </a><figcaption class="image-caption">管理固態硬碟磁區</figcaption>
    </figure></p>
<p>這裡是管理你的固態硬碟界面。先使用上下鍵調到你割出來的 <code>Free Space</code> 40GB，左右鍵調到 <code>New</code> 按下 <code>Enter</code>，輸好要分配出的大小再按 <code>Enter</code> 將空間分配出來，接著左右鍵調到 <code>Type</code>，<strong>選取 <code>Linux root (ARM-64)</code></strong>，這是 64 bit 的系統，如果你的電腦是 32 bit 請選擇 <code>Linux root (X86)</code>，接著<strong>確認你的磁區上面有個磁區類型是 <code>EFI System</code> ，並記住磁區代號或大小</strong>，這裡是要掛載 <code>boot</code> 的磁區，如果沒有的話請找到可以自己在割出大概從某個磁區割出 250MB 調整類型為 <code>EFI System</code> 分區。接著左右鍵調到 <code>Write</code> 寫入設定，輸入 <code>yes</code> 按下 <code>Enter</code>，確認無誤後可以按下 <code>Quit</code> 離開此界面，再次 輸入 <code>lsblk</code> 就可以在 <code>/dev/nvme0n1</code> 看到你分割出的空間了。</p>
<blockquote>
<p>註：記得一定要寫入，我之前很多次都忘了寫入，重搞了幾次。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">cfdisk /dev/sda <span class="c1"># 管理虛擬硬碟磁區</span>
</code></pre></td></tr></table>
</div>
</div><p>示意圖我就不放了，方式都跟上個步驟大同小異，分別割出 2GB <code>Type</code> 為 <code>Linux Swap</code> 和 100GB <code>Type</code> 為 <code>Linux home</code> 的分區。</p>
<blockquote>
<p>註：有些人的電腦可能沒有我上述講的類型，如果找不到 <code>Linux root (ARM-64)</code>、<code>Linux root (X86)</code>、<code>Linux home</code>，可以將 <code>Type</code> 改成 <code>Linux filesystem</code>，只是 <code>EFI System</code> 與 <code>Linux swap</code> 不能這樣搞，而且這兩類型是找得到的。</p>
</blockquote>
<h3 id="9-格式化磁區">9. 格式化磁區</h3>
<p>當分區建好後，我們需要對此格式化。每種類型的磁區格式化方式都不相同。</p>
<blockquote>
<p>註：我們假設你分割出的 40GB 固態硬碟空間磁區代號為 <code>nvme0n1p5</code>，<code>boot</code> 為 <code>nvme0n1p1</code>，2GB <code>Swap</code> 為 <code>sda3</code> ，100GB <code>home</code> 為 <code>sda4</code>。</p>
<p>註：<code>mkfs.ext4</code> 的創建方式與 <code>mkfs.fat</code> 的差別在於前者有創建 <code>journal</code> 日誌，後者沒有。注意：文件系統一定要創建日誌，不然個人的資料可能會造成損失等後果。</p>
</blockquote>
<ul>
<li>文件系統 <code>root</code> 與 <code>home</code></li>
</ul>
<blockquote>
<p>關於文件系統可以建議裝 <code>xfs</code> 或是 <code>btrfs</code>。我會在後面的<strong>重要補充</strong>的地方說明。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkfs.ext4 /dev/nvme0n1p5 <span class="c1">#格式化 root</span>
mkfs.ext4 /dev/sda4 <span class="c1">#格式化 home</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>EFI 系統分區 <code>boot</code></li>
</ul>
<p><strong>注意：這裡只是提供 EFI 格式化方式，如果你的 EFI 已是 Windows 系統的分區，則不建議格式化該 EFI 分區，會造成原有的 Windows 系統崩潰，直接略過格式化 boot。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkfs.fat -F32 /dev/nvme0n1p1 <span class="c1"># 格式化 boot</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>置換空間 <code>swap</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkswap /dev/sda3 <span class="c1"># 格式化 swap</span>
swapon /dev/sda3 <span class="c1"># 掛載置換空間</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="10-掛載分區">10. 掛載分區</h3>
<p>因為根目錄 <code>/mnt</code> 已在你的 USB 存在，所以不需要創建。<strong>注意：必須優先掛載 <code>/mnt</code> 再掛載其它目錄</strong>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mount /dev/nvme0n1p5 /mnt <span class="c1"># 掛載根目錄 root</span>
mkdir /mnt/boot <span class="c1"># 創建 /boot 目錄</span>
mount /dev/nvme0np1 /mnt/boot <span class="c1"># 掛載 /boot</span>
mkdir /mnt/home <span class="c1"># 創建 /home 目錄</span>
mount /dev/sda4 /mnt/home <span class="c1"># 掛載 /home</span>
lsblk <span class="c1"># 查看分區無誤</span>
</code></pre></td></tr></table>
</div>
</div><p>掛載好後，接下來 <code>genfstab</code> 將會自動檢測掛載的文件系統和置換空間。</p>
<h2 id="安裝">安裝</h2>
<h3 id="1-選擇鏡像">1. 選擇鏡像</h3>
<p>編輯 <code>/etc/pacman.d/mirrorlist</code> 文件，將你的所在的鏡像地址優先排在前面，在列表中越前面的地址修先級越高。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /etc/pacman.d/mirrorlist <span class="c1"># 編輯文件</span>
</code></pre></td></tr></table>
</div>
</div><p>關於 Vim 的編輯指令可參考 <a href="https://gitbook.tw/chapters/command-line/vim-introduction.html" target="_blank" rel="noopener noreffer">超簡明 Vim 操作介紹</a>，用起來其實不難。</p>
<!-- ![13.png](https://i.loli.net/2019/09/30/tj7PcF9vMVKZ3Bh.png "超簡明 VIM 編輯指令") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLETA9.png" title="13.png" data-thumbnail="https://imgpoi.com/i/KLETA9.png" data-sub-html="<h2>超簡明 VIM 編輯指令</h2><p>13.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLETA9.png"
            data-srcset="https://imgpoi.com/i/KLETA9.png, https://imgpoi.com/i/KLETA9.png 1.5x, https://imgpoi.com/i/KLETA9.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLETA9.png" />
    </a><figcaption class="image-caption">超簡明 VIM 編輯指令</figcaption>
    </figure></p>
<p>關於 Vim 移動整行的指令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="p">:</span><span class="m">12</span><span class="p">,</span> <span class="m">13</span> <span class="nx">move</span> <span class="m">6</span> # <span class="nx">將第</span> <span class="m">12</span><span class="p">,</span> <span class="m">13</span> <span class="nx">行剪貼至第</span> <span class="m">6</span> <span class="nx">行</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>像我目前所在的地區為 China，所以我將 China 的鏡像源都移至最開頭。</p>
<!-- ![14.png](https://i.loli.net/2019/09/30/8jfCaXqbSOEWT5M.png "編輯鏡像列表") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLJKX5.png" title="14.png" data-thumbnail="https://imgpoi.com/i/KLJKX5.png" data-sub-html="<h2>編輯鏡像列表</h2><p>14.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLJKX5.png"
            data-srcset="https://imgpoi.com/i/KLJKX5.png, https://imgpoi.com/i/KLJKX5.png 1.5x, https://imgpoi.com/i/KLJKX5.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLJKX5.png" />
    </a><figcaption class="image-caption">編輯鏡像列表</figcaption>
    </figure></p>
<p>編輯好並確認無誤後退出 Vim 編輯器。</p>
<h3 id="2-安裝基本系統">2. 安裝基本系統</h3>
<p>使用 <code>pacstrap</code> 腳本安裝 <code>base</code> 組：</p>
<blockquote>
<p>註：在這裡請務必確認你的 <code>/boot</code> 是掛載在 <code>EFI Syetem</code> 分區上，不然後面需要進入 <code>Chroot</code> 執行 <code>pacman -S linux</code> 重裝系統。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ping baidu.com <span class="c1"># 確認此時你是連上網的</span>
pacstrap /mnt base linux linux-firmware <span class="c1"># 安裝基本系統</span>
</code></pre></td></tr></table>
</div>
</div><p>如果你是第二次裝 ArchLinux 的小夥伴，你執行以上指令可能會遇到下載完後安裝時，顯示 <code>/boot/vmlinuz-linux</code> 已存在，所以無法安裝，這時執行以下指令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">rm /boot/vmlinuz-linux <span class="c1"># 刪除該檔案</span>
pacstrap /mnt base linux linux-firmware <span class="c1"># 安裝基本系統</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>註：pacstrap 的安裝指令我在 2020/01/04 更新，因為幫同學重灌 ArchLinux 時發現指令變了，目前最新本的 ArchLinux 發行版指令是 <code>pacstrap /mnt base linux linux-firmware</code>。</p>
</blockquote>
<h2 id="配置系統">配置系統</h2>
<h3 id="1-fastab">1. Fastab</h3>
<p>執行以下指令生成 <code>fstab</code> 文件（用 <code>-U</code> 或 <code>-L</code> 選項設置 UUID 或卷標）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab <span class="c1"># 生成 fstab 文件</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>我個人強烈建議生成完 <code>fstab</code> 後使用 Vim 查看內容，尤其是重裝 Arch 和重新分配磁區的人一定要查看這份文件。</strong></p>
<blockquote>
<p>註：我之前因為將 <code>/root</code> 掛載在虛擬硬碟，所以在 Linux 環境下電腦特別卡，在重灌一次後因為沒有重新砍掉 <code>fstab</code> 文件生成一次，所以上一次安裝時的設定即使執行生成 <code>fstab</code> 文件指令，還是會保留設定無法去除，只是添加了設定，無法覆蓋源設定，造成第二次還是那麼卡。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /mnt/etc/fstab <span class="c1"># 查看 fstab 文件</span>
</code></pre></td></tr></table>
</div>
</div><p>請確認這份文件裡只有四份資料（如果有多分割幾個磁區，就可能不是只有四份，你掛載幾個目錄就有幾份資料，不能多不能少）。</p>
<!-- ![table.png](https://i.loli.net/2019/10/01/S9YdZyhaDmctb1R.png "fstab 內容 table") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLJN9M.png" title="table.png" data-thumbnail="https://imgpoi.com/i/KLJN9M.png" data-sub-html="<h2>fstab 內容 table</h2><p>table.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLJN9M.png"
            data-srcset="https://imgpoi.com/i/KLJN9M.png, https://imgpoi.com/i/KLJN9M.png 1.5x, https://imgpoi.com/i/KLJN9M.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLJN9M.png" />
    </a><figcaption class="image-caption">fstab 內容 table</figcaption>
    </figure></p>
<!-- ![15.png](https://i.loli.net/2019/09/30/cnKvMBOuLbl7x9Q.png "fastab 內容") -->
<p><figure><a class="lightgallery" href="https://imgpoi.com/i/KLJLQ2.png" title="15.png" data-thumbnail="https://imgpoi.com/i/KLJLQ2.png" data-sub-html="<h2>fastab 內容</h2><p>15.png</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="https://imgpoi.com/i/KLJLQ2.png"
            data-srcset="https://imgpoi.com/i/KLJLQ2.png, https://imgpoi.com/i/KLJLQ2.png 1.5x, https://imgpoi.com/i/KLJLQ2.png 2x"
            data-sizes="auto"
            alt="https://imgpoi.com/i/KLJLQ2.png" />
    </a><figcaption class="image-caption">fastab 內容</figcaption>
    </figure></p>
<p>如果你的文件有問題且資料混亂執行以下指令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">rm /mnt/etc/fstab <span class="c1"># 移除原文件</span>
genfstab -U /mnt &gt;&gt; /mnt/etc/fstab <span class="c1"># 生成 fstab 文件</span>
</code></pre></td></tr></table>
</div>
</div><p>再次用 Vim 確認無誤之後，就可進入下一步。</p>
<h3 id="2-進入-chroot">2. 進入 Chroot</h3>
<p><code>Change root</code> 到新安裝的系統，顧名思義就是進入電腦以安裝好的系統，目前我們所在的地方是 USB，如果沒進入 <code>Chroot</code> 就進行安裝和設定就等於安裝和設定在你的 USB 上。</p>
<blockquote>
<p>註：如果重裝系統或是需要重新插上 USB 做些設定，像我通常就發生在磁區分割錯誤或目錄掛載錯誤或 Windows 系統更新後引導程序設定檔被砍，需要先將所有的分區先掛載，再進入 <code>Chroot</code> 才會顯示你電腦裡的磁區，<strong>再次強調，先掛載 <code>/mnt</code></strong>。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">arch-chroot /mnt <span class="c1"># 進入 Chroot</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="3-時區">3. 時區</h3>
<p>設置時區，<code>Region</code> 為你所在的洲，<code>City</code> 為你所在城市。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ln -sf /usr/share/zoneinfo/Region/City /etc/localtime <span class="c1"># 設置時區</span>
</code></pre></td></tr></table>
</div>
</div><p>我設定的是台北時間。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">ln -sf /usr/share/zoneinfo/Asia/Taipei /etc/localtime
</code></pre></td></tr></table>
</div>
</div><p>執行 <code> hwclock</code> 生成 <code>/etc/adjtime</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">hwclock --systohc <span class="c1"># 生成 /etc/adjtime</span>
</code></pre></td></tr></table>
</div>
</div><p>這個指令假定硬件時間已經設置為 <code>UTF</code> 時間。</p>
<h3 id="4-添加本地語系">4. 添加本地語系</h3>
<blockquote>
<p>註：進入 <code>arch-chroot</code> 後需要將 nano 和 vim 裝上去，<code>pacman -S nano vim</code>，這樣才能使用這些工具。</p>
</blockquote>
<p>編輯 <code>locale.gen</code> 把自己要用的語言註解去掉，也就是去掉開頭的 <code>#</code>，一定要取消註解 <code>en_US.UTF-8 UTF-8</code>，建議取消註解<strong>帶 <code>UTF-8</code> 的語言</strong>，<strong>把 GBK 和 BIG5 註解去掉可以支援更多字</strong>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">nano /etc/locale.gen <span class="c1"># 編輯 locale.gen</span>
</code></pre></td></tr></table>
</div>
</div><p>以下是我要取消註解的語言，因為我繁體字和簡體字都很常用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="nx">en_US</span>.<span class="nx">UTF</span><span class="m">-8</span> <span class="nx">UTF</span><span class="m">-8</span><span class="err">
</span><span class="err"></span><span class="nx">zh_CN</span>.<span class="nx">GB18030</span> <span class="nx">GB18030</span><span class="err">
</span><span class="err"></span><span class="nx">zh_CN</span>.<span class="nx">GBK</span> <span class="nx">GBK</span><span class="err">
</span><span class="err"></span><span class="nx">zh_TW</span>.<span class="nx">EUC</span><span class="p">-</span><span class="nx">TW</span> <span class="nx">EUC</span><span class="p">-</span><span class="nx">TW</span><span class="err">
</span><span class="err"></span><span class="nx">zh_TW</span>.<span class="nx">UTF</span><span class="m">-8</span> <span class="nx">UTF</span><span class="m">-8</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>執行 <code>locale-gen</code> 生成 <code>locale</code> 訊息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"> locale-gen <span class="c1"># 生成 locale 訊息</span>
</code></pre></td></tr></table>
</div>
</div><p>接著創建 <code>locale.conf</code> 檔案並編輯 <code>LANG</code> 這一個<strong>語言環境</strong>環境變量為英語 <code>en_US.UTF-8</code>，如果你設為中文的話會造成 tty 出現亂碼。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /etc/locale.conf <span class="c1"># 創建並編輯 locale.conf</span>
</code></pre></td></tr></table>
</div>
</div><p>修改語言環境。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="nx">LANG</span><span class="p">=</span><span class="nx">en_US</span>.<span class="nx">UTF</span><span class="m">-8</span> # <span class="nx">變量設為英語</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="5-主機名稱與網路">5. 主機名稱與網路</h3>
<p>創建 <code>hostname</code> 文件設置你的主機名稱。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /etc/hostname <span class="c1"># 創建 hostname 文件</span>
</code></pre></td></tr></table>
</div>
</div><p>直接在 <code>hostname</code> 填入你主機名稱，<code>myhostname</code>是你的主機名。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="nx">myhostname</span> # <span class="nx">你的主機名稱</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>添加對應訊息到 <code>hosts(5)</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /etc/hosts <span class="c1"># 編輯 hosts</span>
</code></pre></td></tr></table>
</div>
</div><p>寫入以下內容，將 <code>myhostname</code> 修改成你前面設定的主機名稱。</p>
<blockquote>
<p>註：如果系統有一個永久的 IP 地址，請使用這個永久的 IP 地址，而不是 <code>127.0.1.1</code>。</p>
<p>像我就沒有設永久 IP，所以直接編輯成以下內容。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vim" data-lang="vim"><span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">1</span>	<span class="nx">localhost</span><span class="err">
</span><span class="err"></span><span class="p">:</span>:<span class="m">1</span>		<span class="nx">localhost</span><span class="err">
</span><span class="err"></span><span class="m">127</span>.<span class="m">0</span>.<span class="m">1</span>.<span class="m">1</span>	<span class="nx">myhostname</span>.<span class="nx">localdomain</span>	<span class="nx">myhostname</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="6-initramfs">6. Initramfs</h3>
<p>創建 <code>Initramfs</code>，這是用來將內存盤初始化的腳本，例如開關機時掛載與卸載磁區，現在 <code>Initramfs</code>已取代了舊版的 <code>initrd</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkinitcpio -p linux <span class="c1"># 創建 Initramfs</span>
</code></pre></td></tr></table>
</div>
</div><p>如果你想深入了解 <code>Initramfs</code>，可以參考 <a href="https://wiki.archlinux.org/index.php/Mkinitcpio_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">mkinitcpio (简体中文) - ArchWiki</a> 和 <a href="https://wiki.gentoo.org/wiki/Initramfs/Guide/zh-cn" target="_blank" rel="noopener noreffer">Initramfs/指南 - gentoo linux</a>。</p>
<h3 id="7-設定-root-超級使用者-密碼">7. 設定 Root (超級使用者) 密碼</h3>
<p>設定 <code>Root</code> 超級使用者的密碼，<strong>超級使用者</strong>的意思就是這個用戶相當於<strong>系統管理員</strong>，擁有修改系統設定的所有權力。</p>
<p>輸入以下指令後會要求你輸兩次密碼，第二次是確認你的密碼正確，<strong>輸入密碼時文字是隱藏的</strong>，所以不用慌張以為沒有輸入進去。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">passwd <span class="c1"># 設定密碼</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="8-安裝引導程序">8. 安裝引導程序</h3>
<p>因為我之前裝的引導程序是 <code>rEFInd</code>，但 <code>rEFInd</code> 實在太不穩了，好幾次隨著 Windows 更新而設定檔被砍進不了  Linux，需要重裝，然後我朋友推薦給我使用<strong>直接裝在 BIOS 的 <code>grub</code></strong>，穩定不容易被砍，雖然界面比 <code>rEFInd</code> 丑了很多，但至少穩定。</p>
<p><code>grub</code> 是引導程序，<code>os-prober</code>是可以偵測其他操作系統的軟體包，<code>efibootmgr</code>可以操控 UEFI 固件啟動管理器設置的工具。</p>
<blockquote>
<p>註：請確定你是<strong>以 UEFI 模式開機</strong>，不然會一直報錯 <code>efi variables are not supported on this system</code>。這時你就必須重新開機進入 BIOS 調整開機模式再進到 Arch Linux 安裝碟安裝 grub。也請確定你的 <strong>Boot 是掛載在 EFI System 磁區</strong>，不然你無法產生 grub 設定檔，原因在於我們是要掛載在 Boot，但因為 Boot 沒掛載到 EFI 磁區，所以在 EFI 磁區找不到 Boot，產生路徑錯誤。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">sudo pacman -Syu <span class="c1"># 現在更新一下系統</span>
sudo pacman -Syy <span class="c1"># 同步數據庫</span>
sudo pacman -S grub os-prober efibootmgr <span class="c1"># 下載軟體包</span>
</code></pre></td></tr></table>
</div>
</div><p>接著把 <code>grub</code> 安裝到 <strong>EFI System 磁區</strong>，將以下指令<code>--efi-directory</code> 的 <code>esp</code> 改為你的 <code>grub</code> 掛載點，我們要將 <code>grub</code>  掛載到 <code>/boot</code> 上，所以 <strong><code>esp</code> 改為 <code>/boot</code></strong>。</p>
<ul>
<li>指令格式</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"> grub-install --target<span class="o">=</span>x86_64-efi --efi-directory<span class="o">=</span>esp --bootloader-id<span class="o">=</span>grub
</code></pre></td></tr></table>
</div>
</div><ul>
<li>我的掛載方式</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">grub-install --target<span class="o">=</span>x86_64-efi --efi-directory<span class="o">=</span>/boot --bootloader-id<span class="o">=</span>grub
</code></pre></td></tr></table>
</div>
</div><p>然後<strong>掛載</strong>你的 Windows 磁區，你的固態硬碟 C 槽磁區，沒掛載的話到時候產生設定檔會找不到你的 Windows。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkdir /mnt/windows <span class="c1"># 創建 C 槽目錄</span>
mount /dev/sdaX1 /mnt/windows <span class="c1"># 掛載到目標磁區</span>
</code></pre></td></tr></table>
</div>
</div><p>當然如果你還想讀取其它 Windows 的磁區，你可以現在順便掛載好，當然後面再掛載也行。</p>
<p>現在我想將我的虛擬硬碟 Wiindows 的 D 槽掛載。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkdir /mnt/Data <span class="c1"># 創建 D 槽目錄</span>
mount /dev/sdaX2 /mnt/Data <span class="c1"># 掛載到目標磁區</span>
</code></pre></td></tr></table>
</div>
</div><p>然後產生 <code>grub</code> 設定檔。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">grub-mkconfig -o /boot/grub/grub.cfg
</code></pre></td></tr></table>
</div>
</div><p>確認設定檔產生無報錯後接著退出 <code>Chroot</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="nb">exit</span> <span class="c1"># 退出 Chroot</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="重要補充">重要補充</h2>
<h3 id="mbr-的-grub-引導指令">MBR 的 GRUB 引導指令</h3>
<blockquote>
<p>sdX 為 /root 的磁區。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">grub-install --target<span class="o">=</span>i386-pc /dev/sdX
</code></pre></td></tr></table>
</div>
</div><h3 id="雙-arch-系統">雙 Arch 系統</h3>
<blockquote>
<p>2020 / 02 / 05 補充</p>
</blockquote>
<p>我想有些人會為了腦熱或好奇心而裝三系統，像我室友是 Windows + 兩個 Arch，這時引導 <code>grub</code> 的設置就顯得重要。</p>
<p>在做這三系統時，你必須確保你兩個 Arch 的系統不是共用一個 <strong>/boot</strong>，然後你只需要在其中一個 Arch 系統中設置安裝 GRUB。</p>
<p>你在其中一個 Arch 系統中執行完上述的步驟產生出 <code>grub.cfg</code> 設定檔後，我們開始我們設定我們的 GRUB 設定檔。</p>
<ol>
<li>查看 UUID</li>
</ol>
<p>你需要將你另一個 Arch 系統 <strong>/root</strong> 和 <strong>/boot</strong> 的  UUID 記住。像我的 <code>root</code> 的 UUID 是 <code>a48c597a-d1f2-4f4a-82f8-ba96114912f1</code>、<code>boot</code> 的 UUID 是 <code>1258-CD76</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">lsblk -f <span class="c1"># 檢查各磁區 UUID</span>
<span class="c1"># 以下是輸出結果</span>
NAME        FSTYPE FSVER LABEL      UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sda                                                                                     
├─sda1                                                                                  
├─sda2      ntfs         DATA       FEBCDBDCBCDB8D91                                    
├─sda3      ext4   1.0              bcdb5959-181b-4a68-94e3-f5b79c0a14a8   55.1G    37% /home
└─sda4      swap   <span class="m">1</span>                867cc6ea-05af-4676-b36f-875dd7570a38                <span class="o">[</span>SWAP<span class="o">]</span>
nvme0n1                                                                                 
├─nvme0n1p1 vfat   FAT32 SYSTEM_DRV 1258-CD76                             164.3M    36% /boot
├─nvme0n1p2                                                                             
├─nvme0n1p3 ntfs         Windows    46DA5983DA597063                                    
├─nvme0n1p4 ntfs                    F4B6F775B6F73728                                    
└─nvme0n1p5 ext4   1.0              a48c597a-d1f2-4f4a-82f8-ba96114912f1    2.3G    87% /

</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>編輯 GRUB 設定檔</li>
</ol>
<p>紀錄後，就編輯 <code>/boot/grub/grub.cfg</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">vim /boot/grub/grub.cfg
</code></pre></td></tr></table>
</div>
</div><p>加上以下內容，並將下面所有的 <code>rootUUID</code> 和 <code>bootUUID</code> 分別改成你另一個 Arch 系統的 <strong>/root</strong> 和 <strong>/boot</strong> 的  UUID。至於開頭的 <code>Arch Linux</code> 可改成自己想取的名字。<code>Advanced options for Arch Linux</code> 也改成你自己想取的名字。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">menuentry <span class="s1">&#39;Arch Linux&#39;</span> --class arch --class gnu-linux --class gnu --class os <span class="nv">$menuentry_id_option</span> <span class="s1">&#39;gnulinux-simple-rootUUID&#39;</span> <span class="o">{</span>
	load_video
	<span class="nb">set</span> <span class="nv">gfxpayload</span><span class="o">=</span>keep
	insmod gzio
	insmod part_gpt
	insmod fat
	<span class="k">if</span> <span class="o">[</span> x<span class="nv">$feature_platform_search_hint</span> <span class="o">=</span> xy <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
	<span class="k">else</span>
	  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
	<span class="k">fi</span>
	<span class="nb">echo</span>	<span class="s1">&#39;Loading Linux linux ...&#39;</span>
	linux	/vmlinuz-linux <span class="nv">root</span><span class="o">=</span><span class="nv">UUID</span><span class="o">=</span>rootUUID rw  <span class="nv">loglevel</span><span class="o">=</span><span class="m">3</span> quiet
	<span class="nb">echo</span>	<span class="s1">&#39;Loading initial ramdisk ...&#39;</span>
	initrd	/initramfs-linux.img
<span class="o">}</span>
submenu <span class="s1">&#39;Advanced options for Arch Linux&#39;</span> <span class="nv">$menuentry_id_option</span> <span class="s1">&#39;gnulinux-advanced-rootUUID&#39;</span> <span class="o">{</span>
	menuentry <span class="s1">&#39;Arch Linux, with Linux linux&#39;</span> --class arch --class gnu-linux --class gnu --class os <span class="nv">$menuentry_id_option</span> <span class="s1">&#39;gnulinux-linux-advanced-rootUUID&#39;</span> <span class="o">{</span>
		load_video
		<span class="nb">set</span> <span class="nv">gfxpayload</span><span class="o">=</span>keep
		insmod gzio
		insmod part_gpt
		insmod fat
		<span class="k">if</span> <span class="o">[</span> x<span class="nv">$feature_platform_search_hint</span> <span class="o">=</span> xy <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
		  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
		<span class="k">else</span>
		  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
		<span class="k">fi</span>
		<span class="nb">echo</span>	<span class="s1">&#39;Loading Linux linux ...&#39;</span>
		linux	/vmlinuz-linux <span class="nv">root</span><span class="o">=</span><span class="nv">UUID</span><span class="o">=</span>rootUUID rw  <span class="nv">loglevel</span><span class="o">=</span><span class="m">3</span> quiet
		<span class="nb">echo</span>	<span class="s1">&#39;Loading initial ramdisk ...&#39;</span>
		initrd	/initramfs-linux.img
	<span class="o">}</span>
	menuentry <span class="s1">&#39;Arch Linux, with Linux linux (fallback initramfs)&#39;</span> --class arch --class gnu-linux --class gnu --class os <span class="nv">$menuentry_id_option</span> <span class="s1">&#39;gnulinux-linux-fallback-rootUUID&#39;</span> <span class="o">{</span>
		load_video
		<span class="nb">set</span> <span class="nv">gfxpayload</span><span class="o">=</span>keep
		insmod gzio
		insmod part_gpt
		insmod fat
		<span class="k">if</span> <span class="o">[</span> x<span class="nv">$feature_platform_search_hint</span> <span class="o">=</span> xy <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
		  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
		<span class="k">else</span>
		  search --no-floppy --fs-uuid --set<span class="o">=</span>root bootUUID
		<span class="k">fi</span>
		<span class="nb">echo</span>	<span class="s1">&#39;Loading Linux linux ...&#39;</span>
		linux	/vmlinuz-linux <span class="nv">root</span><span class="o">=</span><span class="nv">UUID</span><span class="o">=</span>rootUUID rw  <span class="nv">loglevel</span><span class="o">=</span><span class="m">3</span> quiet
		<span class="nb">echo</span>	<span class="s1">&#39;Loading initial ramdisk ...&#39;</span>
		initrd	/initramfs-linux-fallback.img
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="連網">連網</h3>
<p>因為拔掉 USB 重啟電腦後，會發現關於<strong>連網功能不好處理</strong>，使用 <code>ip link</code> 後 <code>dhcpcd</code> 過於繁瑣，建議就在這裡就安裝連網的管理器。</p>
<blockquote>
<p>註：在 <code>Chroot</code> 中無法使用 <code>systemctl</code>，所以要等全部裝完後再啟用。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">arch-chroot /mnt <span class="c1"># 進入 Chroot</span>
pacman -S networkmanager <span class="c1"># 安裝 networkmanager</span>
<span class="nb">exit</span> <span class="c1"># 退出 Chroot</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="不裝雙系統只有-linux">不裝雙系統，只有 Linux</h3>
<p>如果你是將所有電腦裡的系統都砍了只裝 Archlinux，你<strong>一樣要裝引導</strong>，像之前我幫一個朋友裝 ArchLinux 時他將自己電腦上的 <strong>Windows 全砍了</strong>，剩下所有空間都給 Linux。</p>
<h2 id="文件系統-xfs-與-btrfs">文件系統 XFS 與 Btrfs</h2>
<blockquote>
<p>2020 / 02 / 05 補充文件系統 <code>XFS</code> 和 <code>Btrfs</code>。</p>
</blockquote>
<blockquote>
<p>2020 / 07 / 29 更新，我已經用上 <code>Btrfs</code>，真香，讀寫速度變很快。</p>
</blockquote>
<p>因為我文件系統使用 <code>ext4</code> 使用 <code>ntfs-3g</code> 寫入時非常慢，甚至卡頓，我在這裡推薦使用 <code>XFS</code> 或是 <code>Btrfs</code>。但是 <code>Btrfs</code> 還不夠穩定，所以我這裡是推薦 <code>XFS</code>。</p>
<ul>
<li><code>XFS</code> 是一種高性能的日誌文件系統，<code>XFS</code> 特別擅長處理大文件，同時提供<strong>平滑的數據傳輸</strong>。當前 CentOS 7 也將 <code>XFS</code> + <code>LVM</code> 作為默認的文件系統。</li>
<li><code>Btrfs</code> 是一種用於 Linux 的新的寫時複製文件系統，旨在實現高級功能，同時專注於容錯、修復和輕鬆的管理。</li>
</ul>
<h3 id="xfs">XFS</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkfs.xfs /dev/nvme0n1p5 <span class="c1">#格式化 root</span>
mkfs.xfs /dev/sda4 <span class="c1">#格式化 home</span>
</code></pre></td></tr></table>
</div>
</div><p>在安裝 <code>base</code> 時要輸入以下內容，將 <code>xfsprogs</code> 包加入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">pacstrap /mnt base linux linux-firmware xfsprogs
</code></pre></td></tr></table>
</div>
</div><p>更多請參考 <a href="https://wiki.archlinux.org/index.php/XFS_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">XFS (简体中文) - ArchWiki</a>。</p>
<h3 id="btrfs">Btrfs</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">mkfs.btrfs -L arch-root /dev/nvme0n1p5 <span class="c1">#格式化 root</span>
mkfs.btrfs -L arch-home /dev/sda4 <span class="c1">#格式化 home</span>
</code></pre></td></tr></table>
</div>
</div><p>在安裝 <code>base</code> 時要輸入以下內容，將 <code>btrfs-progs</code> 包加入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">pacstrap /mnt base linux linux-firmware btrfs-progs
</code></pre></td></tr></table>
</div>
</div><p>更多請參考 <a href="https://wiki.archlinux.org/index.php/Btrfs_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Btrfs (简体中文) - ArchWiki</a>。</p>
<h2 id="重啟電腦">重啟電腦</h2>
<p>因為我手速不夠快，如果不小心在還沒完全關機或已經開機狀態下拔下 USB，會造成嚴重錯誤，所以我選擇直接關機再手動開機。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh">reboot <span class="c1"># 重開機</span>
poweroff <span class="c1"># 直接關機</span>
</code></pre></td></tr></table>
</div>
</div><p>關機後立刻將 USB 拔出電腦，然後開機，如果開機沒有進入 grub，重開機一次進入 BIOS 會看到 有 <code>grub</code> 的開機選項，將這個選項調到最優先開機就行了。</p>
<blockquote>
<p>登入時輸入 <code>user</code> 為 <code>root</code>，<code>password</code> 為你之前設的 Root 密碼。</p>
</blockquote>
<h2 id="安裝後工作">安裝後工作</h2>
<p>我會之後會寫 <strong>Arch Linux 安裝後</strong>文章，並放入 Blog。</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/Installation_guide_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Installation guide (简体中文) - ArchWiki</a></li>
<li><a href="https://gitbook.tw/chapters/command-line/vim-introduction.html" target="_blank" rel="noopener noreffer">超簡明 Vim 操作介紹 - 為你自己學 Git</a></li>
<li><a href="https://www.v2ex.com/t/49043" target="_blank" rel="noopener noreffer">请问vim如何移动当前行向上或向下？不用选中 - V2EX</a></li>
<li><a href="https://wiki.archlinux.org/index.php/EFI_system_partition_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">EFI system partition (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Network_configuration_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Network configuration (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Mkinitcpio_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">mkinitcpio (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.gentoo.org/wiki/Initramfs/Guide/zh-cn" target="_blank" rel="noopener noreffer">Initramfs/指南 - gentoo linux</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Localization/Simplified_Chinese_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Localization/Simplified Chinese (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Unified Extensible Firmware Interface (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.archlinux.org/index.php/GRUB_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E7%94%9F%E6%88%90_grub.cfg" target="_blank" rel="noopener noreffer">GRUB (简体中文) - ArchWiki</a></li>
<li><a href="https://twgreatdaily.com/JtHjy2wBJleJMoPMKqfZ.html" target="_blank" rel="noopener noreffer">Linux文件系統格式有哪些類型？選錯你就要辭職了 - 今日頭條</a></li>
<li><a href="https://wiki.archlinux.org/index.php/XFS_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">XFS (简体中文) - ArchWiki</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Btrfs_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener noreffer">Btrfs (简体中文) - ArchWiki</a></li>
</ul>
<!--##### &copy;copyright by Huang Po-Hsun--></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2020-07-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/archlinux_install_part1_basic/index.md" target="_blank">閱讀原始檔案</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" data-via="Rem59881439" data-hashtags="ArchLinux,Linux"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-hashtag="ArchLinux"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" data-image="/featuredImage/compressed/archlinux_install_part1_basic.png"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Myspace" data-sharer="myspace" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="https://huangno1.github.io/archlinux_install_part1_basic/" data-title="Archlinux 安裝 Part 1 - Windows &amp; Archlinux 雙系統"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/archlinux/">ArchLinux</a>,&nbsp;<a href="/tags/linux/">Linux</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主頁</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/archlinux_vscode_build_gdb_gcc/" class="prev" rel="prev" title="在 Archlinux 搭建 VScode C/C&#43;&#43; 開發環境（GCC）及 調試（GDB）"><i class="fas fa-angle-left fa-fw"></i>在 Archlinux 搭建 VScode C/C&#43;&#43; 開發環境（GCC）及 調試（GDB）</a>
            <a href="/cpp_solving_decimal_programming/" class="next" rel="next" title="C&#43;&#43; 關於某小數轉進制的題目-解題經驗">C&#43;&#43; 關於某小數轉進制的題目-解題經驗<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.88.1">Hugo</a> 強力驅動 | 主題 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://huangno1.github.io" target="_blank">Huang Po-Hsun</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到頂部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看評論">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="https://remblog.disqus.com/embed.js" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/twemoji/twemoji.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"複製到剪貼簿","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本網站使用 Cookies 來改善你的瀏覽體驗."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"沒有找到結果","snippetLength":30,"type":"lunr"},"twemoji":true};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-138697151-2', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-138697151-2" async></script></body>
</html>
